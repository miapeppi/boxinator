<!-- <form [formGroup]="settingsForm">
  <p>Select zone</p>
  <select formControlName="zoneSelect" (change)="onChanges()">
    <option *ngIf="!zones" selected>Loading zones...</option>
    <option *ngFor="let zone of zones" [ngValue]="zone">{{zone.name}}</option>
  </select>

  <p>Countries in {{selectedZone.name}}</p>
  <ng-container formArrayName="countriesFormArray">
    <div *ngFor="let control of countriesFormArray.controls; index as i">

    <form [formGroupName]="i">

      <input type="text" formControlName="countryName" [value]="control.value.countryId"/>

      <p type="text" formControlName="countryName" >{{control.value.countryName}}</p>

      <select formControlName="countryZone">
        <option *ngFor="let zone of zones" [ngValue]="control.value.zoneId">{{control.value.zoneName}}</option>
      </select>

      <p>UneditedCountry: {{control.value.countryName}}</p>
      <p>UneditedCountry: {{settingsForm.controls.countriesFormArray.controls[i].uneditedCountry.zoneId}}</p>
      <button (click)="countrySave({
        id: countriesFormArray.at(i).get('uneditedCountry')?.value.id,
        name: countriesFormArray.at(i).get('countryName')?.value,
        zoneId: countriesFormArray.at(i).get('countryZone')?.value.id
      })">Save</button>
    </form>
  </div>

</ng-container>
</form> -->

<p>Select zone</p>
<form [formGroup]="zoneSelectForm">
  <select formControlName="zoneSelectControl" (change)='zoneSelected(zoneSelectForm.value.zoneSelectControl)'>
    <option *ngFor="let zone of zones" [ngValue]="zone">{{zone.name}}</option>
  </select>
</form>

<!-- <form [formGroup]="zoneSelectForm">
  <select formControlName="zoneSelectControl">
    <option *ngFor="let zone of states" [ngValue]="state">
      {{ state.abbrev }}
    </option>
  </select>
</form> -->

<!-- <p>Form value: {{ zoneSelectForm.value | json}}</p> -->
<app-country-list [countries]="countries!"></app-country-list>
