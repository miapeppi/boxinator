<form [formGroup]="settingsForm">
  <p>Select zone</p>
  <select formControlName="zoneSelect" (change)="onChanges()">
    <option *ngIf="!zones" selected>Loading zones...</option>
    <!-- Zones select -->
    <option *ngFor="let zone of zones" [ngValue]="zone">{{zone.name}}</option>
  </select>

  <p>Countries in {{selectedZone.name}}</p>
  <div formArrayName="countriesFormArray" *ngFor="let controls of countriesFormArray.controls; index as i">

    <form [formGroupName]="i">
      <p formControlName="uneditedCountry"></p>

      <input formControlName="countryName" >
      <!-- Change country name -->
      <select formControlName="countryZone" >
        <!-- Select zone for country -->
        <option *ngFor="let zone of zones">{{zone.name}}</option>
      </select>

      <!-- <button (click)="countrySave(i)">Save</button> -->

      <!-- Return country object fields on click -->
      <button (click)="countrySave({
        id: countriesFormArray.at(i).get('uneditedCountry')?.value.id,
        name: countriesFormArray.at(i).get('countryName')?.value,
        zoneId: countriesFormArray.at(i).get('countryZone')?.value.zoneId,
        zoneName: countriesFormArray.at(i).get('countryZone')?.value,
        countryMultiplier: countries[i].countryMultiplier
      })">Save</button>
    </form>
  </div>


</form>
